<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>IVANICH TOP MARKET</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  width:100%;height:100%;
  font-family:'Share Tech Mono', monospace;
  user-select:none;
  background:#050006;
}

/* ФОН */
body{
  background:#050006 url("skull-bg.png") center center / contain no-repeat fixed;
}
body::before{
  content:"";position:fixed;inset:0;
  background:rgba(5,0,6,.65);z-index:-1;
}

/* КОНТЕНТ */
#content{
  max-width:720px;margin:auto;padding:40px 16px;
  min-height:100vh;
  display:flex;flex-direction:column;
  justify-content:center;gap:26px;text-align:center;
}

/* ЗОЛОТОЙ НЕОН */
h1,.futuristic-text{
  color:#000;
  text-shadow:0 0 3px #ffd86b,0 0 10px #ffb700,0 0 22px #cc8f00;
}
h1{font-size:1.9rem}
.futuristic-text{font-size:1rem;line-height:1.5;white-space:pre-line}

/* КРАСНЫЙ НЕОН */
.telegram-warning{
  font-size:1.35rem;font-weight:900;
  text-transform:uppercase;
  color:#000;
  text-shadow:0 0 4px #ff4b4b,0 0 10px #ff0000,0 0 26px #b00000;
}

/* КНОПКИ */
#container{display:flex;flex-wrap:wrap;justify-content:center;gap:14px}
button{
  background:rgba(0,0,0,.55);
  border:2px solid #ffcc55;
  color:#000;
  padding:12px 30px;
  border-radius:6px;
  cursor:pointer;
  min-width:140px;
  font-weight:800;
  text-shadow:0 0 3px #ffd86b,0 0 10px #ffb700;
  box-shadow:0 0 6px #ffcc55,0 0 18px #cc8f00;
  transition:.25s;
}
button:hover{
  background:#ffcc55;
  box-shadow:0 0 14px #ffcc55,0 0 34px #ffb700;
}
button:disabled,
button.locked{
  opacity:0.45;
  cursor:not-allowed;
  box-shadow:none!important;
  filter:grayscale(1);
}

/* СООБЩЕНИЕ */
#tg-msg{
  display:none;
  margin-top:12px;
  font-weight:900;
  color:#000;
  text-shadow:0 0 4px #ff4b4b,0 0 10px #ff0000,0 0 26px #b00000;
}
</style>
</head>

<body>

<div id="content">
  <h1>IVANICH TOP MARKET</h1>

  <p class="futuristic-text">
НАШ КЛИЕНТ — НЕ БОГ, НО ОЧЕНЬ БЛИЗКО  
СЕРВИС НА ГРАНИ ФАНТАСТИКИ  
ЭТО НЕ МАГАЗИН — ЭТО ДОСТУП
  </p>

  <p class="telegram-warning">
ПЕРЕХОД В TELEGRAM ТОЛЬКО ЧЕРЕЗ ПРИЛОЖЕНИЕ
  </p>

  <div id="container"></div>

  <div id="tg-msg">
❌ Telegram Desktop не установлен<br><br>
⚠️ Для доступа необходимо установить Telegram Desktop<br>
Переход через браузер запрещён
  </div>
</div>

<script>
/* =========================
   ПРОВЕРКА ПК
   ========================= */
function isDesktop(){
  const ua = navigator.userAgent.toLowerCase();
  return /(windows|mac os|linux)/.test(ua) &&
         !/(android|iphone|ipad)/.test(ua);
}

/* =========================
   ЗАЩИТА ОТ ПОВТОРНЫХ КЛИКОВ
   ========================= */
let GLOBAL_LOCK = false;
function lockAllButtons(){
  document.querySelectorAll('button').forEach(btn=>{
    btn.disabled = true;
    btn.classList.add('locked');
  });
}

/* =========================
   СБОРКА tg://
   ========================= */
// join?invite=...
function buildTGJoin(inv){
  return ['t','g',':','/','/','j','o','i','n','?','i','n','v','i','t','e','='].join('')
       + inv.join('');
}
// open?url=...
function buildTGOpen(urlArr){
  return ['t','g',':','/','/','o','p','e','n','?','u','r','l','='].join('')
       + urlArr.join('');
}

/* =========================
   INVITE-КОДЫ
   ========================= */
// ОПЕРАТОР — ЭТО URL t.me/m/...
const OP_URL = [
  'h','t','t','p','s',':','/','/','t','.','m','e','/','m','/','W','a','E','8','Y','4','y','V','Z','m','I','8'
];

// Остальные — join invite
const INVITES = {
  CH:['q','5','G','7','Z','O','O','G','1','v','I','0','N','m','Q','0'],
  VI:['l','P','l','h','3','t','h','-','a','W','x','j','Y','z','k','0'],
  NO:['P','P','v','X','y','M','e','8','7','F','x','l','M','2','I','0'],
  OT:['I','D','P','d','b','y','Y','U','b','N','0','w','Y','T','k','0'],
  AU:['P','2','N','7','0','u','F','s','T','9','9','m','M','z','Y','x']
};

/* =========================
   ОТКРЫТИЕ TELEGRAM
   ========================= */
function openTG(payload, isOperator){
  if(GLOBAL_LOCK) return;
  GLOBAL_LOCK = true;lockAllButtons();

  const msg = document.getElementById('tg-msg');
  msg.style.display = 'none';

  const tgLink = isOperator
    ? buildTGOpen(payload)
    : buildTGJoin(payload);

  window.location.href = tgLink;

  if(isDesktop()){
    setTimeout(()=>{ msg.style.display = 'block'; },1200);
  }
}

/* =========================
   КНОПКИ
   ========================= */
const container = document.getElementById('container');
[
  ['ОПЕРАТОР', OP_URL, true],
  ['ЧАТ', INVITES.CH, false],
  ['ВИП ЧАТ', INVITES.VI, false],
  ['НОВОСТИ', INVITES.NO, false],
  ['ОТЗЫВЫ', INVITES.OT, false],
  ['АУКЦИОН', INVITES.AU, false]
].forEach(item=>{
  const b=document.createElement('button');
  b.textContent=item[0];
  b.onclick=()=>openTG(item[1], item[2]);
  container.appendChild(b);
});
</script>

</body>
</html>
